<!DOCTYPE html>
<html>
<head>
  <!-- Import Vega & Vega-Lite (does not have to be from CDN) -->
  <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
  <!-- CSS file -->
  <link rel="stylesheet" type="text/css" href="css/styles.css" media="all">
  <!-- Import pure.css -->
  <link rel="stylesheet" href="https://unpkg.com/purecss@2.0.3/build/pure-min.css" integrity="sha384-cg6SkqEOCV1NbJoCu11+bm0NvBRc8IYLRGXkmNrqUBfTjmMYwNKPWBTIKyw9mHNJ" crossorigin="anonymous">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Google font -->
  <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@400;700;900&display=swap" rel="stylesheet">

  <style>
    *{
      font-family: 'Source Sans Pro', sans-serif;
    }
    h1{
      font-weight: 900;
      text-align:center;
      font-size:60px;
    }
     body{
       background-color: #383838;
     }
     .page{
       width: 850px;    
       background-color:#d9c3da;   
       margin: auto;
       padding: 50px;
       padding-top: 35px;
    }
    .vis-container{
      width: 100%;
    }
    .description h2, h1{
      margin-top:0px;
    }
    .description-right {
      padding-left: 20px;
    }
    .description-left{
      padding-right: 20px;
    }
    .small-font{
        font-size: 14px;
    }
  </style>
</head>
<body>
  <div class ='page'>
    <!--pure grid group-->
    <div class="pure-g">       
      <div class="pure-u-1-1">
        <h1 style = margin-bottom:60px>Happiest Counteries around the World</h1>                                                                                                                                                                                                  
        </p>
      </div>
    </div>

     <!-- pure grid group -->
     <div class="pure-g">       
      <div class="pure-u-1-1">                                                                                                                                                                                                  
        <p style = margin-bottom:35px>The term <strong> Happiness</strong> is used in the context of mental or emotional states, including positive or pleasant emotions ranging from contentment to intense joy. It is also used in the context of life satisfaction, subjective well-being, eudaimonia, flourishing and well-being.</p>
<!-- end pure grid group -->

 <!-- pure grid group -->
 <div class="pure-g">
     <div class="pure-u-1-1">
       <div class="description description-left">
         <h2 style="font-size: 30px ;font-weight: 700; margin-bottom:5px;">How Happy are the Counteries around the world?</h2>
       </div>
 </div>
 <div class="pure-g">
  <div class="pure-u-1-1">
    <div class="description description-left">
      <h3 style="font-size: 25px ;font-weight: 400;">Happiness Score</h3>
      <p style = margin-bottom:35px>In this map, we look at the happiness score of all the counteries in the year <strong>2017</strong> 
      Hover over a country to see the <strong>Happiness Score</strong>.
      </p>
    </div>
  </div>
  <div class="pure-u-2-3">
    <div id="choropleth_map" class="vis-container" style = top:0px;></div>
  </div>
</div>
<!--
<div id="choropleth_map" ></div>
-->
 <!-- pure grid group -->
 <div class="pure-g">
  <div class="pure-u-1-1">
    <div class="description description-left">
      <h3 style="font-size: 25px ;font-weight: 400;">Happiness Score by Region</h3>
      <p style=margin-bottom:35px> Below we see all the counteries on the map, Hover over a dot to see the <strong>Happiness Score</strong> and <strong>Happiness Rank</strong> of the country.
        To see the counteries by region please use the <strong>Region Selection option</strong> and to see counteries by their Happiness Status click on the status on the <strong>legend</strong>.
        Through this visualization we can see that the most happiest country in 2017 was <strong>Norway</strong> with a <strong>Happiness Score</strong> of <strong>7.537</strong>. 
      </p>
      </div>
  </div>
<div class="pure-u-2-3">
  <div id="economy_map"  class="vis-container" style = top:0px;></div>
</div>   
</div>
   <!-- pure grid group -->
   <div class="pure-g">
    <div class="pure-u-1-1">
      <div class="description description-left">
        <p style = margin-bottom:35px><strong>North America</strong> has the highest average <strong>Happiness Score</strong> which is 
          <strong>7.15</strong>. While Europe is the least happiest region with a <strong>Happiness Score</strong> of 
          <strong>4.09</strong> on average. It is interesting to note that the happiest country <strong>Norway</strong> is
          a part of <strong> Western Europe</strong> yet the region ranked 2nd.
        </p>
      </div>
    </div>
    <div class="pure-u-1-3">
      <div id="vis3"  class="vis-container" style = margin-bottom:35px></div>
    </div>
  </div>

  <div class="pure-g">
    <div class="pure-u-1-1">
      <div class="description description-left">
        <h2 style="font-size: 30px ;font-weight: 700; margin-bottom:5px;">What makes a country Happy?</h2>
      </div>
</div>
<div class="pure-g">
  <div class="pure-u-1-1">
    <div class="description description-left">
      <h3 style="font-size: 25px ;font-weight: 400;">Does Money buy Happiness?</h3>
      <p style=margin-bottom:35px> A highly popular belief in our society is that money can buy you 
        happiness. So most people would argue that a country's <strong>Economy</strong> is the number 1
        factor in deciding if a country is happy or not. Below is a world map showing each country's 
        <strong>Economy</strong>. Hover over a country to view the country's <strong>Economy</strong>, 
        <strong> Happiness Score</strong> and <strong>Happiness Rank</strong>.
      </p>
      </div>
  </div>
  <div class="pure-u-2-3">
    <div id="vis4" class="vis-container" style = top:0px;></div>
  </div>

  <div class="pure-g">
    <div class="pure-u-1-1">
      <div class="description description-left">
        <p style=margin-bottom:35px> 
         Below is a bar chart showing the <strong>Top 5 Richest</strong>.
         Hover over the graph to see the <strong>Economy</strong> and <strong>Happiness Rank</strong>.
         It is interesting to see that even though these counteries are very rich. They are not even in the
         top 10 happiest counteries of the world.
        </p>
        </div>
    </div>
    <div class="pure-u-1-3">
      <div id="vis5"  class="vis-container" style = top:0px></div>
    </div>
  </div>

  <div class="pure-g">
    <div class="pure-u-1-1">
      <div class="description description-left">
        <h3 style="font-size: 25px ;font-weight: 400;">Other factors?</h3>
        <p style=margin-bottom:35px> As we see money is not the deciding factor in determining the happiness 
          of a country. Other factors inclued <strong>Family</strong>, <strong>Health</strong>, <strong>Freedom</strong>,
          <strong>Generosity</strong>, <strong>Corruption</strong>, <strong>Dystopia</strong> and <strong>Job Satisfaction</strong>.
          Below is a scatterplot matrix showing the relationship between the Happiness Score and all the factors.
        </p>
        </div>
    </div>
    <div class="pure-u-1-3">
      <div id="vis6"  class="vis-container" style = top:0px></div>
    </div>
  </div>
  
<script type="text/javascript">

  var spec2 = "js/choropleth_map.vg.json";
  vegaEmbed('#choropleth_map', spec2).then(function(result) {
    // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
  }).catch(console.error);
</script>

<script type="text/javascript">
  var spec3 = "js/regions_bar_plot.vg.json";
  vegaEmbed('#vis3',spec3).then(function(result) {
    // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
  }).catch(console.error);
</script>

<script>
var spec4 = "js/economy_map.vg.json";
vegaEmbed('#vis4', spec4).then(function(result) {
  // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
}).catch(console.error);
</script>

<script type="text/javascript">
  var spec5 = "js/economy_bar_graph.vg.json";
  vegaEmbed('#vis5',spec5).then(function(result) {
    // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
  }).catch(console.error);
</script>

<script type="text/javascript">
  var spec6 = "js/scatterplot.vg.json";
  vegaEmbed('#vis6',spec6).then(function(result) {
    // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
  }).catch(console.error);
</script>

<script type="text/javascript">
var spec2 = {
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "data": { "url": "https://raw.githubusercontent.com/Mubashir9000/FIT3179--Happiest-Counteries-in-the-World/main/data/World%20Happiness%20Report.csv"},
    "background":"#d9c3da",
    "width": 350,
    "height":500,
    "config": {"axisX": {"labels": false,"ticks": false,"title":null}},
    "params": [{"name": "region_selection",
      "bind":{"input": "select",
        "options":[null,"Africa","Asia-Pacific","Eastern Europe","Europe","Latin America"
        ,"North America","Western Europe"],
        "labels": [
          "Show All","Africa","Asia-Pacific","Eastern Europe","Europe","Latin America"
          ,"North America","Western Europe"
        ],"name": "Region Selection"
        }}],
        "transform": [{"filter":"region_selection==null || datum.Region == region_selection"}],
    "encoding": {
      "y": {
        "aggregate": "sum", "field": "Happiness Score",
        "title": "Happiness Score"},
      "x": {"field": "Country"}},
     "layer":[{
      "selection":{"happy_highlight":{"type":"multi","fields":["Status"],"bind":"legend"}},
        "mark": "circle",
        "encoding":{ "color": {
          "field": "Status",
          "type": "nominal",
          "scale":{"type": "threshold","domain":["Very Happy","Happy","Somewhat Happy","Not Happy"]
          ,"range":["#FF1493","#FF69B4","#DB7093","#808080"]
        }
        }
      ,
      "legend":{"format":".1s"},
      "opacity": {
        "condition": {"selection": "happy_highlight", "value": 0.6},
        "value": 0.1},
      "tooltip": [
          {"field": "Country", "type": "nominal", "title": "Country"},
          {"field":"Region","type": "nominal"},
          {"field": "Happiness Score", "type": "quantitative"},
          {"field":"Happiness Rank","type": "quantitative"}
        ]
        }}
     ,{
        "mark":{"type":"text","align":"right","baseline":"middle","dx": -12,
          "fontSize": 11.5,
          "fontStyle": "italic"},
          "encoding": {
             "text": {"field": "Country", "type": "nominal"},
             "color": {"value": "black"},
             "opacity": {
             "condition": {
             "test": "datum['Country'] == 'China' || datum['Country'] == 'Singapore' || datum['Country'] == 'Australia' || datum['Country'] == 'New Zealand'|| datum['Country'] == 'Italy' || datum['Country'] == 'Yemen' || datum['Country'] == 'United States of America'",
             "value": 1
             },
             "value": 0
             }

     },"tooltip": [
      {"field": "Country", "type": "nominal", "title": "Country"},
      {"field":"Region","type": "nominal"},
      {"field": "Happiness Score", "type": "quantitative"},
      {"field":"Happiness Rank","type": "quantitative"}
    ]
    
    
  }]}
  vegaEmbed('#economy_map', spec2).then(function(result) {
    // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
  }).catch(console.error);
</script>
</body>
</html>
