<!DOCTYPE html>
<html>
<head>
  <!-- Import Vega & Vega-Lite (does not have to be from CDN) -->
  <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
  <!-- CSS file -->
  <link rel="stylesheet" type="text/css" href="css/styles.css" media="all">
  <!-- Import pure.css -->
  <link rel="stylesheet" href="https://unpkg.com/purecss@2.0.3/build/pure-min.css" integrity="sha384-cg6SkqEOCV1NbJoCu11+bm0NvBRc8IYLRGXkmNrqUBfTjmMYwNKPWBTIKyw9mHNJ" crossorigin="anonymous">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Google font -->
  <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@400;700;900&display=swap" rel="stylesheet">

  <style>
    *{
      font-family: 'Source Sans Pro', sans-serif;
    }
    h1{
      font-weight: 900;
      text-align:center;
      font-size:60px;
    }
     body{
       background-color: #383838;
     }
     .page{
       width: 850px;    
       background-color:#d9c3da;   
       margin: auto;
       padding: 50px;
       padding-top: 35px;
    }
    .vis-container{
      width: 100%;
    }
    .description h2, h1{
      margin-top:0px;
    }
    .description-right {
      padding-left: 20px;
    }
    .description-left{
      padding-right: 20px;
    }
    .small-font{
        font-size: 14px;
    }
  </style>
</head>
<body>
  <div class ='page'>
    <!--pure grid group-->
    <div class="pure-g">       
      <div class="pure-u-1-1">
        <h1 style = margin-bottom:60px>Happiest Counteries around the World</h1>                                                                                                                                                                                                  
        </p>
      </div>
    </div>

     <!-- pure grid group -->
     <div class="pure-g">       
      <div class="pure-u-1-1">                                                                                                                                                                                                  
        <p style = margin-bottom:35px>The term <strong> Happiness</strong> is used in the context of mental or emotional states, including positive or pleasant emotions ranging from contentment to intense joy. It is also used in the context of life satisfaction, subjective well-being, eudaimonia, flourishing and well-being.</p>
<!-- end pure grid group -->

 <!-- pure grid group -->
 <div class="pure-g">
     <div class="pure-u-1-1">
       <div class="description description-left">
         <h2 style="font-size: 30px ;font-weight: 700; margin-bottom:5px;">How Happy are the Counteries around the world?</h2>
       </div>
 </div>
 <div class="pure-g">
  <div class="pure-u-1-1">
    <div class="description description-left">
      <h3 style="font-size: 25px ;font-weight: 400;">Happiness Score</h3>
      <p style = margin-bottom:35px>In this map, we look at the happiness score of all the counteries in the year <strong>2018</strong>
       the map is encoded using 3 scales <strong>very Happy</strong>, <strong>Happy</strong>, <strong>Somewhat Happy </strong> and <strong>Not Happy</strong>. 
      </p>
    </div>
  </div>
  <div class="pure-u-2-3">
    <div id="choropleth_map" class="vis-container" style = top:0px;></div>
  </div>
</div>
<!--
<div id="choropleth_map" ></div>
-->
 <!-- pure grid group -->
 <div class="pure-g">
  <div class="pure-u-1-1">
    <div class="description description-left">
      <h3 style="font-size: 25px ;font-weight: 400;">Happiness Score by Region</h3>
      <!--<p style = margin-bottom:35px>In 2016,<strong> Switzerland</strong> had the <strong> highest median income of 26,692</strong> and <strong> Romania </strong>had the <strong> lowest median income</strong> out of about <strong>4,724.</strong></p>
      -->
      </div>
  </div>
<div class="pure-u-2-3">
  <div id="economy_map"  class="vis-container" style = top:0px;></div>
</div>   
</div>



<script type="text/javascript">

  var spec2 = "js/choropleth_map.vg.json";
  vegaEmbed('#choropleth_map', spec2).then(function(result) {
    // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
  }).catch(console.error);
</script>

  
<!--
<div id="other_factor"></div>
<script type="text/javascript">
 var spec2 = "js/other_factors.vg.json";
  vegaEmbed('#other_factor', spec2).then(function(result) {
    // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
  }).catch(console.error);
</script>
-->
<!--
<script type="text/javascript">

  var spec2 = "js/Region_dot_plot.vg.json";
  vegaEmbed('#economy_map', spec2).then(function(result) {
    // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
  }).catch(console.error);
</script>
-->
<script type="text/javascript">
var spec2 = {
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "description": "A trellis bar chart showing the US population distribution of age groups and gender in 2000.",
    "data": { "url": "https://raw.githubusercontent.com/Mubashir9000/FIT3179/main/data/World%20Happiness%20Report.csv"},
    "background":"#d9c3da",
    "width": 350,
    "height":500,
    "config": {"axisX": {"labels": false,"ticks": false,"title":null}},
    "params": [{"name": "region_selection",
      "bind":{"input": "select",
        "options":[null,"Africa","Asia-Pacific","Eastern Europe","Europe","Latin America"
        ,"North America","Western Europe"],
        "labels": [
          "Show All","Africa","Asia-Pacific","Eastern Europe","Europe","Latin America"
          ,"North America","Western Europe"
        ],"name": "Region Selection"
        }}],
        "transform": [{"filter":"region_selection==null || datum.Region == region_selection"}],
    "encoding": {
      "y": {
        "aggregate": "sum", "field": "Happiness Score",
        "title": "Happiness Score"},
      "x": {"field": "Country"}},
     "layer":[{
      "selection":{"region_highlight":{"type":"multi","fields":["Region"],"bind":"legend"}},
        "mark": "circle",
        "encoding":{ "color": {
          "field": "Region",
          "type": "nominal",
          "scale":{"domain":["Africa","Asia-Pacific","Eastern Europe","Europe","Latin America"
          ,"North America","Western Europe"],
          "range":["#7fc97f",
            "#beaed4",
            "#fdc086",
            "#ffff99",
            "#386cb0",
            "#f0027f",
            "#bf5b17"]
          
        
        }
        }
      ,
      "legend":{"format":".1s"},
      "opacity": {
        "condition": {"selection": "region_highlight", "value": 0.6},
        "value": 0.1},
      "size":{"field":"Happiness Score","type": "quantitative"
      ,"scale":{"type": "threshold","domain":[2,4,6,8]}}, 
      "tooltip": [
          {"field": "Country", "type": "nominal", "title": "Country"},
          {"field":"Region","type": "nominal"},
          {"field": "Happiness Score", "type": "quantitative"},
          {"field":"Happiness Rank","type": "quantitative"}
        ]
        }}
     ,{
        "mark":{"type":"text","align":"right","baseline":"middle","dx": -12,
          "fontSize": 11.5,
          "fontStyle": "italic"},
          "encoding": {
             "text": {"field": "Country", "type": "nominal"},
             "color": {"value": "black"},
             "opacity": {
             "condition": {
             "test": "datum['Country'] == 'China' || datum['Country'] == 'Singapore' || datum['Country'] == 'Australia' || datum['Country'] == 'New Zealand'|| datum['Country'] == 'Italy' || datum['Country'] == 'Yemen' || datum['Country'] == 'United States of America'",
             "value": 1
             },
             "value": 0
             }

     },"tooltip": [
      {"field": "Country", "type": "nominal", "title": "Country"},
      {"field":"Region","type": "nominal"},
      {"field": "Happiness Score", "type": "quantitative"},
      {"field":"Happiness Rank","type": "quantitative"}
    ]
    
    
  }]}
  vegaEmbed('#economy_map', spec2).then(function(result) {
    // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
  }).catch(console.error);
</script>
</body>
</html>
